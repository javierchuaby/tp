@startuml
!include style.uml

title Logic â€” Sequence Diagram for execute("delete 2")

'===============================
' Participants
'===============================
box "Logic" LOGIC_COLOR_T1
  participant LogicManager
  participant ClubTrackParser
  participant DeleteCommandParser
  participant DeleteCommand
  participant Messages
  participant CommandResult
end box

box "Model" MODEL_COLOR_T1
  participant Model
end box

'===============================
' Message Flow
'===============================

LogicManager -> LogicManager : execute("delete 2")

LogicManager -> ClubTrackParser : parseCommand("delete 2")
activate ClubTrackParser

ClubTrackParser -> DeleteCommandParser : parse("2")
activate DeleteCommandParser

DeleteCommandParser -> DeleteCommand : <<create>> new DeleteCommand(Index=2)
deactivate DeleteCommandParser
ClubTrackParser <-- DeleteCommand : return DeleteCommand
deactivate ClubTrackParser

LogicManager -> DeleteCommand : execute(model)
activate DeleteCommand

DeleteCommand -> Model : getFilteredPersonList()
activate Model
Model --> DeleteCommand : lastShownList
deactivate Model

alt Invalid index (2 >= list size)
    DeleteCommand -> LogicManager : throws CommandException
    deactivate DeleteCommand
else Valid index (2 < list size)
    DeleteCommand -> Model : deletePerson(person@index=1)
    activate Model
    Model --> DeleteCommand : void
    deactivate Model

    DeleteCommand -> Messages : format(personToDelete)
    Messages --> DeleteCommand : formattedString

    DeleteCommand -> CommandResult : <<create>> CommandResult(message)
    DeleteCommand --> LogicManager : CommandResult
    deactivate DeleteCommand
end

@enduml